<header class="header">
  <p-toolbar>
    <div class="p-toolbar-group-start">
      <!-- <h2 class="title">{{ title }}</h2> -->
      <a routerLink="/">
        <img src="assets/logo.png" id="logo" aria-label="label" />
        <img src="assets/icon.svg" id="logo-icon" aria-label="logo svg" />
      </a>
    </div>
    <div class="p-toolbar-group-center text-sm">
      @if (this.currentUser) {
      <strong>{{"Sync Status" | transloco}}: </strong> <span>{{this.syncStatus}}</span>
      }
    </div>
    <div class="p-toolbar-group-end">
      <app-sidemenu [(showSidebar)]="showSidebar" [syncStatus]="syncStatus" [currentUser]="currentUser" />
    </div>
  </p-toolbar>
</header>

<section class="main">
  <div class="content">
    <router-outlet 
      (activate)="onActivate($event)"
    />
  </div>
</section>

<footer class="footer">
  <p>Faire todo app - 2024 - <a href="https://github.com/charlesschaefer/faire-todo-app/blob/main/LICENSE">License</a>
  </p>
</footer>

<!-- <p-toast position="bottom-left" /> -->
<p-toast position="bottom-left" #toast>
  <ng-template let-message pTemplate="message">
    <span class="p-toast-message-icon">
      <i class="pi pi-info-circle"></i>
    </span>
    <div class="flex flex-column align-items-start" style="flex: 1">
      <div class="p-toast-summary">
        <span class="">
          {{ message.summary }}
        </span>
      </div>
      <div class="flex flex-row justify-content-between w-full gap-3">
        <div class="h-3-rem p-toast-detail">
          {{ message.detail }}
        </div>
        <div class="">
          <a href="javascript:;" p-button class="text-sm w-min" severity="info" size="small" (click)="undo()"
             >{{ 'Undo' | transloco }}</a>
        </div>
      </div>
    </div>
  </ng-template>
</p-toast>

<p-toast [key]="'task'" [position]="'top-right'" />

<p-toast [key]="'auth-messages'" [position]="'top-center'" />

